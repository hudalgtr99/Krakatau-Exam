function backdrop(e,t){var n=document.querySelector(".backdrop");n.style.display="1"===e||"100"===e?"block":"none","1"===t?document.body.style.pointerEvents="none":document.body.removeAttribute("style"),n.style.zIndex=e}!function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],o=n.length,l=window.console=window.console||{};o--;)l[e=n[o]]||(l[e]=t)}();var reloadCont=document.getElementById("reloadCont"),noSoal=document.getElementById("nosoal"),noSoalTop=document.getElementById("nosoalTop");noSoal&&(noSoalTop.appendChild(noSoal),noSoal.style.display="block");var qlistShow=document.getElementById("qlistShow"),qlistTop=document.getElementById("qlistTop");qlistShow&&(qlistTop.appendChild(qlistShow),qlistShow.style.display="flex");var scrolLayer=document.getElementById("scrollayer");function menuOpen(){scrolLayer.setAttribute("class","slide-in-header"),backdrop("1",!1)}function menuClose(){document.querySelector(".slide-in-header")&&(scrolLayer.setAttribute("class","slide-out-header"),backdrop("-1",!1))}var qlistContID=document.getElementById("qlistContID");function qlistOpen(){if("1"===localStorage.getItem("darkMode"))var e="darkCont";else e="";qlistContID.setAttribute("class","tcecontentbox qlistCont slide-in-qlist "+e),backdrop("1")}function qlistHide(){if("1"===localStorage.getItem("darkMode"))var e="darkCont";else e="";document.querySelector(".slide-in-qlist")&&(qlistContID.setAttribute("class","tcecontentbox qlistCont slide-out-qlist "+e),backdrop("-1"))}var langSelID=document.getElementById("langSelID");function langSelOpen(){langSelID.setAttribute("class","qlistCont slide-in-langsel"),backdrop("1")}function langSelHide(){document.querySelector(".slide-in-langsel")&&(langSelID.setAttribute("class","qlistCont slide-out-langsel"),backdrop("-1"))}var userInfoID=document.getElementById("userInfoID");function userInfoOpen(){userInfoID.setAttribute("class","qlistCont slide-in-userIID"),backdrop("1")}function userInfoHide(){document.querySelector(".slide-in-userIID")&&(userInfoID.setAttribute("class","qlistCont slide-out-userIID"),backdrop("-1"))}var testComment=document.querySelector(".testcomment");function commentOpen(){testComment.setAttribute("class","testcomment slide-in-comment"),backdrop("1")}function commentHide(){document.querySelector(".slide-in-comment")&&(testComment.setAttribute("class","testcomment slide-out-comment"),backdrop("-1"))}var h1_testpage=document.getElementById("h1_testpage"),infolinkCont=document.getElementById("infolinkCont"),nosoalCont=document.getElementById("nosoalCont"),iconsettings=document.getElementById("iconsettings");function qSettingToggle(e){"block"===infolinkCont.style.display?(infolinkCont.removeAttribute("style"),iconsettings.removeAttribute("style")):(iconsettings.style.color="var(--col-3)",iconsettings.style.background="var(--col-12)",infolinkCont.style.display="block",infolinkCont.style.opacity="0.95",infolinkCont.style.zIndex="1",infolinkCont.style.transition="opacity 0.2s ease-in-out 0s")}var imgProblem=document.getElementById("imgProblem");imgProblem&&imgProblem.addEventListener("click",function(){imgProblem.setAttribute("class","hidden")});var btn_uploadFile=document.getElementById("btn_uploadFile");function qNumUnsureStyle(){noSoal.style.color="#343a40",noSoal.style.background="#ffcc00",noSoal.style.textShadow="none"}btn_uploadFile&&btn_uploadFile.addEventListener("click",function(){imgProblem.removeAttribute("class")});var fTestForm=document.getElementById("testform"),utilTop=document.getElementById("utilTop");function addUnsure(){if(fTestForm){let e;(e=null===localStorage.getItem("unsure")?[]:JSON.parse(localStorage.getItem("unsure"))).push(window.noSoalIndex),localStorage.setItem("unsure",JSON.stringify(e))}}function removeUnsure(){if(fTestForm){var e=window.noSoalIndex;let n;var t;for(n=null===localStorage.getItem("unsure")?[]:JSON.parse(localStorage.getItem("unsure")),t=0;t<n.length;)n[t]===e?n.splice(t,1):t++;localStorage.setItem("unsure",JSON.stringify(n))}}fTestForm||(utilTop.style.display="none");var qlistArr=document.querySelectorAll("ol.qlist li");function setUnsureLiBg(e){qlistArr[e].firstElementChild.style.setProperty("background-image","linear-gradient(45deg, transparent 2.1em, #ffcc00 2.1em)","important")}function resetUnsureLiBg(e){qlistArr[e].firstElementChild.removeAttribute("style")}var lblUnsure=document.getElementById("lblUnsure");function unsureToggler(e){if(localStorage.getItem("unsure")&&fTestForm){const t=JSON.parse(localStorage.getItem("unsure"));t.forEach(e=>{setUnsureLiBg(e)}),-1!==t.indexOf(e)?(qNumUnsureStyle(),cbUnsure.setAttribute("checked","checked")):(noSoal.setAttribute("style","display:block"),cbUnsure.removeAttribute("checked")),cbUnsure.removeAttribute("style")}}function markUnsure(e){e.checked?(qNumUnsureStyle(),addUnsure(),setUnsureLiBg(window.noSoalIndex)):(noSoal.setAttribute("style","display:block"),removeUnsure(),resetUnsureLiBg(window.noSoalIndex))}var h_fileAction=document.getElementById("h_fileAction"),c_fileAction=document.getElementById("c_fileAction");function clearUnsure(){localStorage.setItem("unsure","[]")}h_fileAction&&h_fileAction.addEventListener("click",function(){"block"===c_fileAction.style.display?c_fileAction.style.display="none":c_fileAction.style.display="block"}),fTestForm&&(localStorage.getItem("darkMode")||localStorage.setItem("darkMode","0"));var h1_testpageLink=document.querySelector("#h1_testpage a"),questionBlock=document.querySelector(".question-block"),navLink=document.querySelector(".navlink"),header=document.querySelector(".header"),lightModeBtn=document.getElementById("lightModeBtn"),darkModeBtn=document.getElementById("darkModeBtn"),forceterminateCont=document.getElementById("forceterminateCont");function darkMode(){fTestForm&&(fTestForm.style.setProperty("background","var(--col-11)","important"),document.body.style.background="var(--col-11)",questionBlock.style.color="var(--col-7)",questionBlock.style.background="var(--col-6)",header.style.background="var(--col-11)",navLink.style.background="var(--col-11)",utilTop.style.background="var(--col-6)",h1_testpageLink.className="darkCont",infolinkCont.className="darkCont",utilTop.style.color="var(--col-7)",forceterminateCont.style.background="var(--col-11)",darkModeBtn.style.display="none",lightModeBtn.style.display="flex",localStorage.setItem("darkMode","1"))}function lightMode(){fTestForm&&(document.body.removeAttribute("style"),questionBlock.removeAttribute("style"),header.removeAttribute("style"),navLink.removeAttribute("style"),fTestForm.removeAttribute("style"),h1_testpageLink.removeAttribute("class"),infolinkCont.removeAttribute("class"),utilTop.removeAttribute("style"),forceterminateCont.removeAttribute("style"),darkModeBtn.style.display="flex",lightModeBtn.style.display="none",localStorage.setItem("darkMode","0"))}if(fTestForm){var lsDarkMode=localStorage.getItem("darkMode");lsDarkMode&&("1"===lsDarkMode?(document.getElementById("darkModeBtn").style.display="none",document.getElementById("lightModeBtn").style.display="block",darkMode()):(document.getElementById("darkModeBtn").style.display="block",document.getElementById("lightModeBtn").style.display="none",lightMode()))}if(fTestForm){var lsFontSize=localStorage.getItem("fontSize");lsFontSize&&(document.querySelector(".tcecontentbox").style.fontSize=lsFontSize+"px",document.querySelector(".answer")&&(document.querySelector(".answer").style.fontSize=lsFontSize+"px"))}function zoomintext(){if(fTestForm){var e=parseFloat(window.getComputedStyle(document.querySelector(".tcecontentbox")).fontSize);newfontSize=1.1*e,document.querySelector(".tcecontentbox").style.fontSize=newfontSize+"px",document.querySelector(".answer")&&(document.querySelector(".answer").style.fontSize=newfontSize+"px"),fontSize=newfontSize,localStorage.setItem("fontSize",fontSize)}}function zoomouttext(){if(fTestForm){var e=parseFloat(window.getComputedStyle(document.querySelector(".tcecontentbox")).fontSize);newfontSize=e/1.1,document.querySelector(".tcecontentbox").style.fontSize=newfontSize+"px",document.querySelector(".answer")&&(document.querySelector(".answer").style.fontSize=newfontSize+"px"),fontSize=newfontSize,localStorage.setItem("fontSize",fontSize)}}var showPass=document.getElementById("showPass"),showPass_new=document.getElementById("showPass_new"),showPass_repeat=document.getElementById("showPass_repeat"),hidePass=document.getElementById("hidePass"),hidePass_new=document.getElementById("hidePass_new"),hidePass_repeat=document.getElementById("hidePass_repeat"),xuser_password=document.getElementById("xuser_password")||document.getElementById("xtest_password")||document.getElementById("currentpassword"),xuser_password_new=document.getElementById("newpassword"),xuser_password_repeat=document.getElementById("newpassword_repeat");function FormChanges(e){if("string"==typeof e&&(e=document.getElementById(e)),!e||!e.nodeName||"form"!=e.nodeName.toLowerCase())return null;for(var t,n,o,l,s,a,r=[],i=0,d=e.elements.length;i<d;i++){if(n=!1,"cbUnsure"!==(t=e.elements[i]).id)switch(t.nodeName.toLowerCase()){case"select":for(o=0,l=0,s=t.options.length;l<s;l++)a=t.options[l],n=n||a.selected!=a.defaultSelected,a.defaultSelected&&(o=l);n&&!t.multiple&&(n=o!=t.selectedIndex);break;case"textarea":case"input":switch(t.type.toLowerCase()){case"checkbox":case"radio":n=t.checked!=t.defaultChecked;break;default:n=t.value!=t.defaultValue}}n&&r.push(t)}return r}function DetectChanges(e){return FormChanges(e).length}function loadWYSIBB(){var e=document.createElement("link");if(document.getElementById("wysibb-style")||(e.id="wysibb-style",e.rel="stylesheet",e.href="../../shared/jscripts/vendor/wysibb/theme/default/wbbtheme.css",document.head.appendChild(e)),!window.jQuery){var t=document.createElement("script");t.defer="defer",t.id="jquery",t.src="../../shared/jscripts/vendor/wysibb/jquery-1.11.0.min.js",t.onload=function(){var e=document.createElement("script");e.defer="defer",e.id="wysibb",e.src="../../shared/jscripts/vendor/wysibb/jquery.wysibb.min.js",e.onload=function(){$("#answertext");$("#answertext").wysibb(),$("#btn_uploadFileCont").show()},document.head.appendChild(e)},document.head.appendChild(t)}}showPass&&showPass.addEventListener("click",function(){showPass.style.display="none",hidePass.style.display="block",xuser_password.setAttribute("type","text")}),showPass_new&&showPass_new.addEventListener("click",function(){showPass_new.style.display="none",hidePass_new.style.display="block",xuser_password_new.setAttribute("type","text")}),showPass_repeat&&showPass_repeat.addEventListener("click",function(){showPass_repeat.style.display="none",hidePass_repeat.style.display="block",xuser_password_repeat.setAttribute("type","text")}),hidePass&&hidePass.addEventListener("click",function(){showPass.style.display="block",hidePass.style.display="none",xuser_password.setAttribute("type","password")}),hidePass_new&&hidePass_new.addEventListener("click",function(){showPass_new.style.display="block",hidePass_new.style.display="none",xuser_password_new.setAttribute("type","password")}),hidePass_repeat&&hidePass_repeat.addEventListener("click",function(){showPass_repeat.style.display="block",hidePass_repeat.style.display="none",xuser_password_repeat.setAttribute("type","password")});var firstQuestion=document.getElementById("first_question"),lastQuestion=document.getElementById("last_question"),testLogId=document.getElementById("testlogid"),prevBtn=document.getElementById("prevbtn"),nextBtn=document.getElementById("nextbtn");if(fTestForm)var noSoalLbl=parseInt(noSoal.textContent);var fLogin=document.getElementById("form_login"),usernameField=document.getElementById("xuser_name"),usernameLbl=document.getElementById("xuser_nameLbl"),passwordField=document.getElementById("xuser_password"),passwordLbl=document.getElementById("xuser_passwordLbl");function btnVis(e,t,n){fTestForm&&(e.value===t.value?n.style.display="none":n.removeAttribute("style"),lastQuestion.value===t.value?nextBtn.setAttribute("onclick","saveAnswerAjax(0,this)"):nextBtn.setAttribute("onclick","saveAnswerAjax(1,this)"))}function dynNoSoal(e,t){fTestForm&&(t?(noSoalLbl=parseInt(t.value),noSoal.textContent=noSoalLbl):(noSoalLbl+=e,noSoal.textContent=noSoalLbl),markLiSelected())}function loadDoc(){if(document.getElementById("xuser_name").value.length>0&&document.getElementById("xuser_password").value.length>0){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(1==this.readyState&&(reloadCont.style.display="block",backdrop("1","1")),4==this.readyState&&200==this.status){let t=document.getElementById("close_btn");t&&t.click();var e=JSON.parse(this.responseText);document.body.insertAdjacentHTML("afterbegin","<div class='"+e[0]+"'><span>"+e[1]+"</span><span onclick='this.parentNode.style.display = \"none\"' id='close_btn'>Ã—</span></div>"),"message"===e[0]&&location.reload(),reloadCont.style.display="none",backdrop("-1","-1")}},e.open("POST","index.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("logaction=login&xuser_name="+usernameField.value+"&xuser_password="+passwordField.value)}}function getAllTestLogID(){var e=[];let t;for(t=0;t<qlistArr.length;t++)e[t]=qlistArr[t].firstChild.id;return e}function findLocalItems(e){var t,n=[];for(t in localStorage)localStorage.hasOwnProperty(t)&&(t.match(e)||!e&&"string"==typeof t)&&n.push(t.replace(/\D/g,""));return n}function checkTestuserID(){let e,t=document.querySelectorAll(".continue"),n=[];for(e=0;e<t.length;e++)n[e]=t[e].id;return n}function arrayDiff(){return findLocalItems("testlog").filter(e=>!checkTestuserID().includes(e))}function delAllMatchLsCache(e){var t=e;if(!Array.isArray(e)){t=[];t=[e]}for(i=0;i<t.length;i++){let e=JSON.parse(localStorage.getItem(t[i]+"_testlogid"));for(let t=0;t<e.length;t++)localStorage.removeItem("json_"+e[t]),caches.open("qBlockCache").then(n=>{n.delete("../../qblock/"+e[t]+".json")});delStaticServFile(t[i]),localStorage.removeItem(t[i]+"_testlogid"),localStorage.removeItem("answdatas"),localStorage.removeItem("unsure")}}function delStaticServFile(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){4==this.readyState&&200==this.status&&console.log(this.responseText)},t.open("POST","tmf_del_json_user.php",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("tuid="+e+"&data="+localStorage.getItem(e+"_testlogid"))}function getCurTestLogID(){return qlistArr[noSoalIndex].firstChild.id}function saveAnswerAjax(e,t){document.getElementById("close_btn_offline")&&document.getElementById("page-offline").remove();var n=qlistArr[noSoalLbl-1].firstChild.id;document.querySelector(".wysibb-texarea")&&$("#answertext").sync();var o=document.getElementById("testform"),l=new FormData(o);l.append("question-block","1"),l.append("save-answer","1");var s=checkFormState(),a=t.innerHTML;if(s>0){var r=new Date;document.getElementById("reaction_time").value=r.getTime()-document.getElementById("display_time").value,l.set("display_time",document.getElementById("display_time").value),l.set("reaction_time",document.getElementById("reaction_time").value);var i=document.getElementById("testlogid").value,d=document.getElementById("qtype").value;if(QBLOCK_JSON){if(null===localStorage.getItem("answdatas"))var c=[];else c=JSON.parse(localStorage.getItem("answdatas"));var u=[];u[0]=i,u[1]=d;for(var m=FormChanges("testform"),y=document.querySelectorAll(".rowl .answer li input"),g=document.querySelectorAll(".rowl .answer li input"),p=document.querySelectorAll(".rowl .answer li select"),f=[],h=[],b=0;b<m.length;b++){if("1"===d)for(b=0;b<y.length;b++)y[b].checked&&(u[2]=y[b].id.replace(/\D/g,""));if("2"===d)for(b=0;b<g.length;b++)g[b].checked&&(f.push(g[b].id.replace(/\D/g,"")),u[2]=f);if("3"===d&&(u[2]=m[0].value),"4"===d)for(b=1;b<p.length+1;b++)h.push(document.getElementById("answpos_"+b).options.selectedIndex),u[2]=h}c[noSoalIndex]=u,l.append("ls-answdatas",JSON.stringify(c))}l.append("ls-unsure",localStorage.getItem("unsure"));var I=noSoalLbl,S=localStorage.getItem("prev_ansrad_val"),v=(document.getElementById("testid").value,i=document.getElementById("testlogid").value,document.getElementById("testuser_id").value,document.getElementById("examtime").value,document.getElementById("finish").value,document.getElementById("display_time").value,document.getElementById("reaction_time").value,document.getElementById("csrf_token").value,new XMLHttpRequest);v.onreadystatechange=function(){1==this.readyState&&(document.getElementById(t.id).disabled="disabled",backdrop("100","1"),document.body.style.pointerEvents="none",1e3===e?document.getElementById(n).innerHTML="<div class='anim-pulsate'><span class='icon-upload'></span></div>":document.getElementById(t.id).innerHTML="<div class='anim-pulsate'><span class='icon-upload'></span></div>"),4==this.readyState&&200==this.status&&(QBLOCK_JSON&&localStorage.setItem("answdatas",JSON.stringify(c)),1e3===e?document.getElementById(n).innerHTML=I:document.getElementById(t.id).innerHTML=a,document.getElementById(t.id).removeAttribute("disabled"),999!==e&&loadQuestion(e,t),markLiAnswered(I,S),localStorage.setItem("answer_change","0"),btnVis(lastQuestion,testLogId,nextBtn),btnVis(firstQuestion,testLogId,prevBtn),"termbtn"===t.id&&document.getElementById("terminatetest").click())},v.open("POST","tce_test_execute.php",!0),v.timeout=2e4,v.ontimeout=function(e){reloadCont.style.display="block",backdrop("100","1"),reloadCont.insertAdjacentHTML("beforebegin","<h5 class='p-1em' style='border-radius:5px;margin:0.5em;text-align:justify;color:#fff;background:rgba(0,0,0,0.5);'>Kondisi sinyal atau kuota paket data Anda tidak memadai.<br/>Mohon lakukan penyesuaian terhadap hal tersebut.<br/>Apabila sudah, silakan tekan tombol <u>RELOAD</u> di bawah ini.</h5>")},v.send(l),v.onerror=function(e){reloadCont.style.display="block",backdrop("100","1"),reloadCont.insertAdjacentHTML("beforebegin","<h5 class='p-1em' style='border-radius:5px;margin:0.5em;text-align:justify;color:#fff;background:rgba(255,0,0,0.5);border: 3px solid #8c1212;'>Offline! Perangkat Anda tidak terhubung ke jaringan.<br/>Mohon lakukan perbaikan terhadap hal tersebut.<br/>Apabila sudah, silakan tekan tombol <u>RELOAD</u> di bawah ini.</h5>")}}else 999!==e&&loadQuestion(e,t),"termbtn"===t.id&&document.getElementById("terminatetest").click()}function btnDis(e,t){1===t?document.getElementById(e).setAttribute("disabled","disabled"):document.getElementById(e).removeAttribute("disabled")}let xLi;btnVis(firstQuestion,testLogId,prevBtn),document.querySelector(".testlist")&&QBLOCK_JSON&&delAllMatchLsCache(arrayDiff());let qlistLen=qlistArr.length;function markLiSelected(){for(xLi=0;xLi<qlistLen;xLi++)qlistArr[xLi].className="";liIndex=noSoalLbl-1,qlistArr[liIndex].className+="terpilih";var e=qlistArr[liIndex].firstChild;e.classList.contains("q_displayed")||(e.className+=" q_displayed"),backdrop("-1","0")}function markLiAnswered(e,t){prevIndex=e-1;var n=qlistArr[prevIndex].firstChild,o=n.classList.contains("q_answered");n.classList.contains("q_notanswered")&&n.classList.replace("q_notanswered","q_answered"),o&&"0"===t&&n.classList.replace("q_answered","q_notanswered")}function pageOffline(){console.log("page offline")}function getTidArr(){var e=[];let t;for(t=0;t<qlistArr.length;t++)e[t]=qlistArr[noSoalIndex+t].firstChild.id;return e}async function getData(e,t){const n="../../qblock/"+e+".json";var o=new XMLHttpRequest;o.onreadystatechange=function(){4==this.readyState&&404==this.status&&(caches.open("qBlockCache").then(e=>{e.delete(n)}),localStorage.removeItem("json_"+e),void 0===t?(document.getElementById("question-area").insertAdjacentHTML("afterbegin","<p class='p-1em' style='border-radius:5px;text-align:justify;color:var(--col-7);background:var(--col-10)'>Soal pada halaman ini telah direvisi. Apabila semua berjalan normal, maka sebentar lagi halaman soal akan berganti ke soal baru. Namun, apabila halaman tidak menampilkan soal apapun dan pesan ini tidak menghilang silakan tekan link reload di bawah ini.<br/><br/><a class='brad100 box-bd-2 bd-gray5' style='color:var(--col-7)' onclick='location.reload()'><span class='icon-spinner11'></span>&nbsp;RELOAD</a></p>"),setTimeout(function(){saveAnswerAjax(0,document.getElementById("relbtn"))},3e3)):(console.log("LLL"),document.getElementById(e).click()))},o.open("HEAD",n,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send();let l=await getCachedData("qBlockCache",n);if(l)return l;const s=await caches.open("qBlockCache");return await s.add(n),l=await getCachedData("qBlockCache",n),await deleteOldCaches("qBlockCache"),l}async function getCachedData(e,t){const n=await caches.open(e),o=await n.match(t,{ignoreSearch:!0,ignoreMethod:!0,ignoreVary:!0});return!(!o||!o.ok)&&await o.json()}async function deleteOldCaches(e){const t=await caches.keys();for(const n of t){const t="myapp-"===n.substr(0,6);e!==n&&t&&caches.delete(n)}}function testJSON(e){if("string"!=typeof e)return!1;try{return JSON.parse(e),!0}catch(e){return!1}}function qBlockRender(e,t,n,o,l,s,a,r){t.value>1&&(document.querySelector("#question-list").scrollTop=document.getElementById(t.id).offsetTop-250);var i=new Date;if(document.getElementById("display_time").value=i.getTime(),reloadCont.style.display="none",0!==t&&(document.getElementById(t.id).innerHTML=o),1e3===e&&(document.getElementById(t.id).innerHTML=o,l.removeAttribute("style"),t.removeAttribute("style"),btnDis(t.id,0)),n.length>0)if(QBLOCK_JSON)if(testJSON(n))if("cached"!==a){var d=JSON.parse(n);document.getElementById("question-area").innerHTML=d.content+"<input type='hidden' name='qtype' id='qtype' value='"+d.qtype+"' />"}else document.getElementById("question-area").innerHTML=n+"<input type='hidden' name='qtype' id='qtype' value='"+r+"' />";else document.getElementById("question-area").innerHTML="Oops! Sepertinya ada masalah pada halaman ini. Kemungkinan disebabkan karena:<ol><li>Waktu mengerjakan telah selesai, namun halaman tidak teralihkan ke beranda dengan benar,</li><li>Terjadi perubahan soal pada server,</li><li>Konfigurasi server yang berhubungan dengan <i>URL Rewriting</i> tidak bekerja dengan baik.</li></ol>Silakan mencoba untuk me-reload halaman dengan cara <a href='#' onclick='location.reload()'><u>klik disini</u></a>";else document.getElementById("question-area").innerHTML=n+"<input type='hidden' name='qtype' id='qtype' value='"+r+"' />";else document.getElementById("question-area").innerHTML="Data ujian tidak ditemukan, <a href='index.php'><u>Silakan klik disini untuk kembali ke Beranda</u> atau reload halaman ini melalui <a onclick='location.reload()'>klik disini</a>";1e3!==e?dynNoSoal(e):dynNoSoal(e,t),btnVis(firstQuestion,testLogId,prevBtn),btnVis(lastQuestion,testLogId,nextBtn),btnDis("relbtn",0),btnDis("prevbtn",0),btnDis("nextbtn",0),btnDis("savebtn",0);var c=document.getElementById("hiddenAnswerText");c&&(c=c.innerHTML);var u=document.getElementById("answertext");u&&(u.value=c);var m=document.getElementById("unsureCbCont");document.getElementById("cbUnsure");m.innerHTML='<input type="checkbox" id="cbUnsure" style="display:none" onchange="markUnsure(this)" />',window.noSoalIndex=noSoalLbl-1,unsureToggler(noSoalIndex),window.jQuery&&$("#answertext").wysibb()?($("#answertext").wysibb(),$("#btn_uploadFileCont").show()):console.log("no bb editor"),localStorage.getItem("json_"+s)||!0!==QBLOCK_JSON||localStorage.setItem("json_"+s,"1"),!0===QBLOCK_JSON&&restoreAnsMark();var y=document.getElementById("testuser_id").value;!localStorage.getItem(y+"_testlogid")&&QBLOCK_JSON&&localStorage.setItem(y+"_testlogid",JSON.stringify(getAllTestLogID())),K_SHOW_TERMINATE_WHEN_ALL_ANSWERED&&(document.querySelectorAll(".q_answered").length===getAllTestLogID().length||document.getElementById("last_question").value===testlogid.value?document.getElementById("termbtn").style.display="block":document.getElementById("termbtn").style.display="none"),document.body.removeAttribute("style")}function restoreAnsMark(){var e=localStorage.getItem("answdatas");if(e){if(JSON.parse(e)[noSoalIndex]){var t=!1;if(testlogid.value===JSON.parse(e)[noSoalIndex][0])t=!0;var n=JSON.parse(e)[noSoalIndex][1],o=JSON.parse(e)[noSoalIndex][2]}else n="0",o="0",t=!1;if("1"===n&&!0===t&&document.getElementById("answpos_"+o).setAttribute("checked","checked"),o&&"2"===n&&!0===t)for(var l=0;l<o.length;l++)document.getElementById("answpos_"+o[l]).setAttribute("checked","checked");if("3"===n&&!0===t&&(document.querySelector(".wysibb-body")?document.querySelector(".wysibb-body").textContent=o:document.getElementById("answertext").value=o),"4"===n&&!0===t)for(l=0;l<o.length;l++){var s=l+1;document.getElementById("answpos_"+s).options.selectedIndex=o[l]}}}function checkFormState(){if(!QBLOCK_JSON)return DetectChanges("testform");var e=localStorage.getItem("answdatas");if(e){if(!JSON.parse(e)[noSoalIndex]){t=!1,n="0",o="0";return DetectChanges("testform")}var t=!1;if(testlogid.value===JSON.parse(e)[noSoalIndex][0])var t=!0;if(!0!==t)return DetectChanges("testform");var n=JSON.parse(e)[noSoalIndex][1],o=JSON.parse(e)[noSoalIndex][2];if("1"===n&&!0===t)for(var l=document.querySelectorAll(".rowl .answer input"),s=0;s<l.length;s++)if(l[s].checked)return o===l[s].id.replace(/\D/g,"")&&document.forms.testform.cbUnsure.defaultChecked===document.forms.testform.cbUnsure.checked?0:1;if("2"===n&&!0===t){var l=document.querySelectorAll(".rowl .answer input"),a=[];for(s=0;s<l.length;s++)l[s].checked&&a.push(s+1);if(o&&o.toString()===a.toString()&&document.forms.testform.cbUnsure.defaultChecked===document.forms.testform.cbUnsure.checked)return 0;if(void 0===o)o=0;return o===a.length&&document.forms.testform.cbUnsure.defaultChecked===document.forms.testform.cbUnsure.checked?0:1}if("3"===n&&!0===t)return(l=document.getElementById("answertext").value)===o&&document.forms.testform.cbUnsure.defaultChecked===document.forms.testform.cbUnsure.checked?0:1;if("4"===n&&!0===t){for(l=document.querySelectorAll(".rowl .answer select"),a=[],s=0;s<l.length;s++)a.push(l[s].value);return o.toString()===a.toString()&&document.forms.testform.cbUnsure.defaultChecked===document.forms.testform.cbUnsure.checked?0:1}}}function touchWaitTestLogID(e,t){var n=getAllTestLogID()[t];let o=document.getElementById("testid").value,l=document.getElementById("testuser_id").value,s=document.getElementById("examtime").value,a=document.getElementById("finish").value,r=document.getElementById("display_time").value,i=document.getElementById("reaction_time").value,d=document.getElementById("csrf_token").value,c=new XMLHttpRequest;c.onreadystatechange=function(){4==this.readyState&&404==this.status&&(c.onreadystatechange=function(){4==this.readyState&&200==this.status&&(localStorage.setItem("json_"+n,"1"),caches.open("qBlockCache").then(e=>{e.add("../../qblock/"+n+".json")}))},c.open("POST","tce_test_execute.php",!0),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send("question-block&testid="+o+"&testlogid="+n+"&testuser_id="+l+"&examtime="+s+"&prevquestionid="+void 0+"&nextquestionid="+void 0+"&autonext="+void 0+"&finish="+a+"&display_time="+r+"&reaction_time="+i+"&csrf_token="+d)),4==this.readyState&&200==this.status&&(localStorage.getItem("json_"+n)||(localStorage.setItem("json_"+n,"1"),caches.open("qBlockCache").then(e=>{e.add("../../qblock/"+n+".json")})))},c.onloadend=function(){t===getAllTestLogID().length-1?console.log("stop"):localStorage.getItem("json_"+getAllTestLogID()[t+1])||setTimeout(function(){touchWaitTestLogID(1e3,t+1)},300)},n&&(c.open("HEAD","../../qblock/"+n+".json",!0),c.send())}function touchOneTestLogIDLoop(){for(let t=1;t<=getAllTestLogID().length-1;t++)e(t);function e(e){setTimeout(function(){touchOneTestLogID(500,getAllTestLogID()[e])},500*e)}}function touchOneTestLogID(e,t){let n=document.getElementById("testid").value,o=document.getElementById("testuser_id").value,l=document.getElementById("examtime").value,s=document.getElementById("finish").value,a=document.getElementById("display_time").value,r=document.getElementById("reaction_time").value,i=document.getElementById("csrf_token").value,d=new XMLHttpRequest;d.onreadystatechange=function(){4==this.readyState&&404==this.status&&(d.onreadystatechange=function(){4==this.readyState&&200==this.status&&(localStorage.setItem("json_"+t,"1"),caches.open("qBlockCache").then(e=>{e.add("../../qblock/"+t+".json")}))},d.open("POST","tce_test_execute.php",!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.send("question-block&testid="+n+"&testlogid="+t+"&testuser_id="+o+"&examtime="+l+"&prevquestionid="+void 0+"&nextquestionid="+void 0+"&autonext="+void 0+"&finish="+s+"&display_time="+a+"&reaction_time="+r+"&csrf_token="+i)),4==this.readyState&&200==this.status&&(localStorage.getItem("json_"+t)||(localStorage.setItem("json_"+t,"1"),caches.open("qBlockCache").then(e=>{e.add("../../qblock/"+t+".json")})))},d.onloadend=console.log("okey"),d.open("HEAD","../../qblock/"+t+".json",!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.send()}function touchAllTestLogID(e){let t=document.getElementById("testid").value,n=document.getElementById("testuser_id").value,o=document.getElementById("examtime").value,l=document.getElementById("finish").value,s=document.getElementById("display_time").value,a=document.getElementById("reaction_time").value,r=document.getElementById("csrf_token").value,i=document.querySelectorAll("ol.qlist li");for(let e=0;e<i.length;e++){let i=document.querySelectorAll("ol.qlist li")[e].firstChild.id,d=new XMLHttpRequest;d.onreadystatechange=function(){4==this.readyState&&404==this.status&&(d.onreadystatechange=function(){4==this.readyState&&200==this.status&&(localStorage.setItem("json_"+i,"1"),caches.open("qBlockCache").then(e=>{e.add("../../qblock/"+i+".json")}))},d.open("POST","tce_test_execute.php",!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.send("question-block&testid="+t+"&testlogid="+i+"&testuser_id="+n+"&examtime="+o+"&prevquestionid="+void 0+"&nextquestionid="+void 0+"&autonext="+void 0+"&finish="+l+"&display_time="+s+"&reaction_time="+a+"&csrf_token="+r)),4==this.readyState&&200==this.status&&(localStorage.getItem("json_"+i)||(localStorage.setItem("json_"+i,"1"),caches.open("qBlockCache").then(e=>{e.add("../../qblock/"+i+".json")})))},d.open("HEAD","../../qblock/"+i+".json",!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.send()}}function loadQuestion(e,t){var n=document.getElementById("testlogid").value,o=document.getElementById("testuser_id").value,l=document.getElementById("examtime").value,s=document.getElementById("finish").value,a=document.getElementById("display_time").value,r=document.getElementById("reaction_time").value,i=document.getElementById("csrf_token").value,d=new XMLHttpRequest,c=document.getElementById("question-list"),u=t.innerHTML;localStorage.setItem("answer_change","0");var m=document.getElementById("testid").value;if(1e3!==e){var y=qlistArr[noSoalLbl-1+e];y&&(document.getElementById("testlogid").value=y.firstChild.id)}else document.getElementById("testlogid").value=t.id;n=document.getElementById("testlogid").value;if(localStorage.getItem("json_"+n)&&"https:"===window.location.protocol&&"1"===localStorage.getItem("cacheEnable")&&!0===QBLOCK_JSON)try{getData(n,t.id).then(function(o){qBlockRender(e,t,o.content,u,c,n,"cached",o.qtype)})}catch(e){console.error({error:e})}else d.onreadystatechange=function(){4==this.readyState&&404==this.status&&!0===QBLOCK_JSON&&(d.open("POST","tce_test_execute.php",!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.send("question-block&testid="+m+"&testlogid="+n+"&testuser_id="+o+"&examtime="+l+"&prevquestionid="+void 0+"&nextquestionid="+void 0+"&autonext="+void 0+"&finish="+s+"&display_time="+a+"&reaction_time="+r+"&csrf_token="+i)),1==this.readyState&&(0!==t&&(document.getElementById(t.id).innerHTML="<div class='anim-rotate'><span class='icon-spinner11'></span></div>",btnDis("relbtn",1),btnDis("prevbtn",1),btnDis("nextbtn",1),btnDis("savebtn",1)),1e3==e?(document.getElementById(t.id).innerHTML="<div class='anim-rotate'><span class='icon-spinner11'></span></div>",t.style.setProperty("color","currentColor"),document.body.style.pointerEvents="none",btnDis(t.id,1),btnDis("relbtn",1),btnDis("prevbtn",1),btnDis("nextbtn",1),btnDis("savebtn",1),reloadCont.style.display="block",backdrop("100","1")):(reloadCont.style.display="block",backdrop("1","1"))),4==this.readyState&&200==this.status&&qBlockRender(e,t,this.responseText,u,c,n,"fresh","0")},!0===QBLOCK_JSON?(d.open("GET","../../qblock/"+n+".json",!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.send()):(d.open("POST","tce_test_execute.php",!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.send("question-block&testid="+m+"&testlogid="+n+"&testuser_id="+o+"&examtime="+l+"&prevquestionid="+void 0+"&nextquestionid="+void 0+"&autonext="+void 0+"&finish="+s+"&display_time="+a+"&reaction_time="+r+"&csrf_token="+i))}function loadDataFromServer(e){if(1===e)var t="answdatas",n="answdata";else t="unsure",n="unsure";var o=document.getElementById("testuser_id").value,l=new XMLHttpRequest;l.onreadystatechange=function(){4==this.readyState&&404==this.status&&console.log("fresh question / never answered"),4==this.readyState&&200==this.status&&localStorage.setItem(t,this.responseText)},l.open("GET","../../answdata/"+o+"_"+n+".txt?"+Math.floor(1e5*Math.random())+1,!0),l.send()}function clearStorage(){caches.delete("qBlockCache"),localStorage.clear()}if(fTestForm){!0===QBLOCK_JSON&&loadDataFromServer(1),loadDataFromServer(2),loadQuestion(0,0),localStorage.getItem("unsure")||localStorage.setItem("unsure","[]");for(let e=0;e<getAllTestLogID().length;e++)if(!localStorage.getItem("json_"+getAllTestLogID()[e])){var startNum=e;break}LOAD_ALL_JSON&&touchWaitTestLogID(1e3,startNum)}function qInfoBar(){infolinkCont.style.position="absolute",document.body.scrollTop>47||document.documentElement.scrollTop>47?(utilTop.className="d-flex utilTopTest jc-sb fwrap scrolledFloat",document.getElementById("question-area").style.paddingTop="3.5em",infolinkCont.style.position="fixed"):(utilTop.className="d-flex utilTopTest jc-sb fwrap",document.getElementById("question-area").style.paddingTop="1em")}window.onscroll=function(){fTestForm&&qInfoBar()};var elem=document.documentElement;function openFullScr(){elem.requestFullscreen?(elem.requestFullscreen(),document.getElementById("resScBtn").removeAttribute("style"),document.getElementById("fullScBtn").setAttribute("style","display:none")):elem.webkitRequestFullscreen?(elem.webkitRequestFullscreen(),document.getElementById("resScBtn").removeAttribute("style"),document.getElementById("fullScBtn").setAttribute("style","display:none")):elem.msRequestFullscreen&&(elem.msRequestFullscreen(),document.getElementById("resScBtn").removeAttribute("style"),document.getElementById("fullScBtn").setAttribute("style","display:none"))}function closeFullScr(){document.exitFullscreen?(document.exitFullscreen(),document.getElementById("fullScBtn").removeAttribute("style"),document.getElementById("resScBtn").setAttribute("style","display:none")):document.webkitExitFullscreen?(document.webkitExitFullscreen(),document.getElementById("fullScBtn").removeAttribute("style"),document.getElementById("resScBtn").setAttribute("style","display:none")):document.msExitFullscreen&&(document.msExitFullscreen(),document.getElementById("fullScBtn").removeAttribute("style"),document.getElementById("resScBtn").setAttribute("style","display:none"))}function floatingLabel(e,t){fLogin&&(e.value.length>0&&(t.style.transition="all 0.05s ease-in-out",t.style.opacity="1"),e.addEventListener("keyup",function(){e.value.length>0?(t.style.color="#343a40",t.style.fontSize="0.85em",t.style.top="-15px",t.style.left="0px",t.style.transition="all 0.15s ease-in-out"):(t.style.color="#999",t.style.fontSize="0.98em",t.style.top="7px",t.style.left="10px",t.style.transition="all 0.15s ease-in-out")}))}function cacheToggle(){"1"===localStorage.getItem("cacheEnable")?confirm("Apakah Anda yakin ingin mematikan Fitur Cache?")&&confirm("Lanjutkan?")&&(document.getElementById("cacheBtn").removeAttribute("style"),localStorage.setItem("cacheEnable",0),caches.delete("qBlockCache")):(document.getElementById("cacheBtn").setAttribute("style","background:var(--col-3);color:var(--col-7)"),localStorage.setItem("cacheEnable",1))}function drawerClose(){menuClose(),qlistHide(),langSelHide(),userInfoHide(),commentHide()}localStorage.getItem("cacheEnable")||!0!==QBLOCK_JSON||!0!==CACHE_FEATURE?("1"===localStorage.getItem("cacheEnable")&&document.getElementById("cacheBtn")&&document.getElementById("cacheBtn").setAttribute("style","background:var(--col-3);color:var(--col-7)"),!1!==QBLOCK_JSON&&!1!==CACHE_FEATURE||localStorage.removeItem("cacheEnable")):localStorage.setItem("cacheEnable",1),floatingLabel(usernameField,usernameLbl),floatingLabel(passwordField,passwordLbl);