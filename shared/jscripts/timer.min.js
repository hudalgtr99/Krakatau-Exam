var enable_countdown=!1,remaining_time=0,msg_endtime="",start_time=0,displayendtime=!0,timeout_logout=!1,time_diff=0,almostend1=!0,almostend2=!0;function FJ_timer(){if(enable_countdown){var e=new Date,t=remaining_time+(e.getTime()-start_time)/1e3,n=allowsubmittime/60*-1;document.getElementById("termbtn")&&(t<allowsubmittime?document.getElementById("termbtn").setAttribute("onclick","alert('Anda belum diperkenankan untuk menghentikan ujian, silakan tunggu hingga waktu ujian tersisa "+n+" menit')"):document.getElementById("termbtn").setAttribute("onclick","saveAnswerAjax(0,this)")),t>=almostend1_time&&almostend1&&(document.getElementById("almostend").innerHTML="<p style='margin:0.5em 0 0 0;padding:0.5em;border-radius:0.5em;background:"+almostend1_bg+";color:"+almostend1_col+"'>"+almostend1_msg+-1*(parseInt(t/60)-1)+" "+K_MINUTES+"</p>",document.getElementById("timer").style.background=almostend1_bg,document.getElementById("timer").style.color=almostend1_col,document.getElementById("timerdiv").style.background=almostend1_bg,document.getElementById("timerdiv").style.color=almostend1_col,document.getElementById("timerdiv").style.border="1px solid rgba(0,0,0,0.1)"),t>=almostend2_time&&almostend2&&(document.getElementById("almostend").innerHTML="<p style='margin:0.5em 0 0 0;padding:0.5em;border-radius:0.5em;background:"+almostend2_bg+";color:"+almostend2_col+"'>"+almostend2_msg+-1*(parseInt(t/60)-1)+" "+K_MINUTES+"</p>",document.getElementById("timer").style.background=almostend2_bg,document.getElementById("timer").style.color=almostend2_col,document.getElementById("timerdiv").style.background=almostend2_bg,document.getElementById("timerdiv").style.color=almostend2_col),t>=-11&&(document.getElementById("almostend").innerHTML="<p style='margin:0.5em 0 0 0;padding:0.5em;border-radius:0.5em;background:"+lastsec_bg+";color:"+lastsec_col+"'>"+lastsec_msg+parseInt(-1*t)+"</strong></p>",document.getElementById("timer").style.background=almostend2_bg,document.getElementById("timer").style.color=almostend2_col,document.getElementById("timerdiv").style.background=almostend2_bg,document.getElementById("timerdiv").style.color=almostend2_col),t>=0&&(document.getElementById("almostend").innerHTML="<p style='margin:0.5em 0 0 0;padding:0.5em;border-radius:0.5em;background:"+almostend2_bg+";color:"+almostend2_col+"'>Waktu mengerjakan ujian <strong>"+document.getElementById("h1_testpage").textContent+"</strong> telah usai</p>",document.getElementById("timer").style.background=almostend2_bg,document.getElementById("timer").style.color=almostend2_col,document.getElementById("timerdiv").style.background=almostend2_bg,document.getElementById("timerdiv").style.color=almostend2_col),document.getElementById("testform")&&t>=-2&&0==document.getElementById("testform").finish.value&&(document.getElementById("testform").finish.value=1,document.getElementById("relbtn").click()),document.getElementById("terminationform")&&t>=-2&&1==document.getElementById("terminationform").value&&(document.getElementById("terminationform").value=0),t>=0&&("+",displayendtime&&msg_endtime.length>1&&(displayendtime=!1,alert(msg_endtime),QBLOCK_JSON&&delAllMatchLsCache(document.getElementById("testuser_id").value),timeout_logout?window.location.replace("tce_logout.php"):K_ENDTEST_PAGE.length>0?window.location.replace(K_ENDTEST_PAGE+"?testid="+document.getElementById("testid").value):window.location.replace("index.php"))),t=Math.abs(t);var m=Math.floor(t/3600);t%=3600;var o=Math.floor(t/60);m<10&&(m="0"+m),o<10&&(o="0"+o),(t=Math.floor(t%60))<10&&(t="0"+t),document.getElementById("timerform").timer.value=m+":"+o+":"+t+" "}else{var l=new Date,d=""+(e=new Date(l.getTime()+time_diff)).getFullYear(),a=""+(1+e.getMonth());a.length<2&&(a="0"+a);var i=""+e.getDate();i.length<2&&(i="0"+i);var r=""+e.getHours();r.length<2&&(r="0"+r);var s=""+e.getMinutes();s.length<2&&(s="0"+s);var g=""+e.getSeconds();g.length<2&&(g="0"+g),document.getElementById("timerform").timer.value=d+"-"+a+"-"+i+" "+r+":"+s+":"+g}}function FJ_start_timer(e,t,n,m,o){var l=new Date;start_time=l.getTime(),time_diff=o-start_time+60,enable_countdown=e,remaining_time=t,msg_endtime=n,timeout_logout=m,setInterval("FJ_timer()",500)}